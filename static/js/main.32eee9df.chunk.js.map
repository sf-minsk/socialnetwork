{"version":3,"sources":["redux/dialogs-reducer.ts","redux/users-reducer.ts","utils/object-helpers.ts","api/api.ts","components/Navbar/Navbar.module.css","redux/auth-reducer.ts","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/store.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","components/Header/PElogovector.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","hoc/withSuspense.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Common/FormsControls/FormsControls.tsx","components/Common/FormsControls/FormsControls.module.css","utils/validators/validators.tsx","components/Header/Header.module.css","redux/profile-reducer.ts","assets/images/preloader.gif","components/Common/Preloader/Preloader.tsx"],"names":["Type","initialState","dialogs","id","v1","name","messages","message","sendMessageAC","newMessageBody","type","SEND_MESSAGE","dialogsReducer","state","action","newMessage","updateObjectInArray","items","itemId","newProperty","users","map","u","followed","pageSize","totalUsersCount","currentPage","isFetching","followingInProgressArray","followSuccess","userID","FOLLOW","unfollowSuccess","UNFOLLOW","setCurrentPage","SET_CURRENT_PAGE","toggleIsFetching","TOGGLE_IS_FETCHING","toggleTheFollowingProgress","userId","TOGGLE_THE_FOLLOWING_PROGRESS","getUsersTC","page","dispatch","a","usersAPI","getUsers","res","SET_USERS","usersTotalCount","totalCount","SET_USERS_TOTAL_COUNT","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","setFollowUser","bind","unFollow","setUnfollowUser","usersReducer","filter","instance","axios","create","withCredentials","baseURL","headers","get","then","response","data","delete","post","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","getAuthMe","login","email","password","rememberMe","logout","module","exports","sidebarReducer","isAuth","setAuthUserData","SET_USER_DATA","payload","getAuthUserData","authReducer","initialized","appReducer","INITIALIZED_SUCCESS","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","className","s","nav","item","to","activeClassName","active","News","Music","Settings","Header","props","header","src","logo","alt","loginBlock","onClick","HeaderContainer","this","React","Component","connect","LoginFormRedux","reduxForm","handleSubmit","error","onSubmit","createField","Input","required","style","formSummaryError","length","stopSubmit","_error","withSuspense","Suspense","fallback","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","initializeAppTC","path","render","Preloader","withRouter","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","FormControl","input","meta","child","touched","styles","formControl","children","TextArea","restProps","component","placeholder","validate","text","value","maxLengthCreator","maxLength","minLengthCreator","minLength","posts","likeCount","addPostAC","newPostBody","ADD_POST","setStatusAC","SET_USER_STATUS","getUserProfile","SET_USER_PROFILE","photo","photos","SAVE_PHOTO","getState","reject","newPost","DELETE_POST","el","width","position","top","left","preloader"],"mappings":"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","file":"static/js/main.32eee9df.chunk.js","sourcesContent":["import {v1} from \"uuid\";\r\n\r\nenum Type {\r\n    SEND_MESSAGE = 'dialogs/SEND-MESSAGE',\r\n}\r\n\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\nexport type InitialStateType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessagesType>\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Jane'},\r\n        {id: v1(), name: 'Maxim'},\r\n        {id: v1(), name: 'Liza'},\r\n        {id: v1(), name: 'Alex'},\r\n        {id: v1(), name: 'Sam'}\r\n    ],\r\n    messages: [\r\n        {id: v1(), message: 'Hi!'},\r\n        {id: v1(), message: 'How is your learning?'},\r\n        {id: v1(), message: 'Is good.'}\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state: InitialStateType = initialState, action: DialogsActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case Type.SEND_MESSAGE: {\r\n            const newMessage: MessagesType = {\r\n                id: v1(),\r\n                message: action.newMessageBody,\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string) => {\r\n    return {\r\n        type: Type.SEND_MESSAGE,\r\n        newMessageBody,\r\n    } as const\r\n}\r\n\r\nexport type DialogsActionType = ReturnType<typeof sendMessageAC>\r\n\r\nexport default dialogsReducer","import {AppThunkType} from \"./store\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nenum Type {\r\n    FOLLOW = 'users/FOLLOW',\r\n    UNFOLLOW = 'users/UNFOLLOW',\r\n    SET_USERS = 'users/SET-USERS',\r\n    SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE',\r\n    SET_USERS_TOTAL_COUNT = 'users/SET-USERS-TOTAL-COUNT',\r\n    TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING',\r\n    TOGGLE_THE_FOLLOWING_PROGRESS = 'users/TOGGLE-THE-FOLLOWING-PROGRESS',\r\n}\r\n\r\nexport type UsersType = {\r\n    id: number\r\n    photoUrl: string\r\n    followed: boolean\r\n    fullName: string\r\n    status: string\r\n    location: { city: string, country: string }\r\n}\r\n\r\nexport type usersStateType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgressArray: Array<number>\r\n}\r\n\r\nconst initialState: usersStateType = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgressArray: []\r\n}\r\n\r\nconst usersReducer = (state: usersStateType = initialState, action: UsersActionType): usersStateType => {\r\n    switch (action.type) {\r\n        case Type.FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state, action.userID, true)\r\n            }\r\n        case Type.UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state, action.userID, false)\r\n            }\r\n        case Type.SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case Type.SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case Type.SET_USERS_TOTAL_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case Type.TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case Type.TOGGLE_THE_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgressArray: action.isFetching\r\n                    ? [...state.followingInProgressArray, action.userId]\r\n                    : state.followingInProgressArray.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//AC\r\nexport const followSuccess = (userID: number) => ({type: Type.FOLLOW, userID} as const)\r\nexport const unfollowSuccess = (userID: number) => ({type: Type.UNFOLLOW, userID} as const)\r\nexport const setUsers = (users: Array<UsersType>) => ({type: Type.SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({\r\n    type: Type.SET_CURRENT_PAGE,\r\n    currentPage\r\n} as const)\r\nexport const setUsersTotalCount = (usersTotalCount: number) => ({\r\n    type: Type.SET_USERS_TOTAL_COUNT,\r\n    totalCount: usersTotalCount,\r\n} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({\r\n    type: Type.TOGGLE_IS_FETCHING,\r\n    isFetching\r\n} as const)\r\nexport const toggleTheFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: Type.TOGGLE_THE_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId,\r\n} as const)\r\n\r\n\r\n//TC\r\nexport const getUsersTC = (page: number, pageSize: number): AppThunkType => async dispatch => {\r\n    dispatch(toggleIsFetching(true))\r\n    const res = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setCurrentPage(page))\r\n    dispatch(setUsers(res.items));\r\n    dispatch(setUsersTotalCount(res.totalCount));\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: ApiMethodType, actionCreator: any) => {\r\n    dispatch(toggleTheFollowingProgress(true, userId))\r\n    const res = await apiMethod(userId)\r\n    if (res.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleTheFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number): AppThunkType => async dispatch => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.setFollowUser.bind(usersAPI), followSuccess)\r\n}\r\nexport const unFollow = (userId: number): AppThunkType => async dispatch => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.setUnfollowUser.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\n\r\n//types\r\ntype ApiMethodType = (userId: number) => Promise<any>\r\n\r\nexport type UsersActionType = ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setUsersTotalCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleTheFollowingProgress>\r\n\r\nexport default usersReducer","import {usersStateType} from \"../redux/users-reducer\";\r\n\r\nexport const updateObjectInArray = (items: usersStateType, itemId: number, newProperty: boolean) => {\r\n    return items.users.map(u => {\r\n        if (u.id === itemId) {\r\n            return {...u, followed: newProperty}\r\n        }\r\n        return u\r\n    })\r\n}","import axios from \"axios\";\r\n\r\nconst instance = axios.create(\r\n    {\r\n        withCredentials: true,\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n        headers: {\r\n            'API-KEY': 'abc967f4-abc5-47ce-a245-10e7f69e7e3a'\r\n        }\r\n    }\r\n)\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance\r\n            .get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    setUnfollowUser(id: number) {\r\n        return instance\r\n            .delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    setFollowUser(id: number) {\r\n        return instance\r\n            .post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId: number | null) {\r\n        return instance\r\n            .get(`profile/` + userId)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance\r\n            .get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance\r\n            .put(`profile/status/`, {status: status})\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile )\r\n        return instance\r\n            .put(`profile/photo/`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n    },\r\n    saveProfile(profile: any) {\r\n        return instance\r\n            .put('profile', profile)\r\n    }\r\n}\r\nexport const authAPI = {\r\n    getAuthMe() {\r\n        return instance\r\n            .get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe = false) {\r\n        return instance\r\n            .post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__17ZzC\",\"item\":\"Navbar_item__23AjO\",\"active\":\"Navbar_active__1W43w\"};","import {authAPI} from \"../api/api\";\r\nimport {AppThunkType} from \"./store\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\n\r\nenum Type {\r\n    SET_USER_DATA = 'auth/SET-USER-DATA',\r\n}\r\n\r\nexport type AuthType = {\r\n    id: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\nconst initialState: AuthType = {\r\n    id: null as number | null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state: AuthType = initialState, action: AuthActionTypes): AuthType => {\r\n    switch (action.type) {\r\n        case Type.SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: Type.SET_USER_DATA,\r\n    payload: {id, email, login, isAuth},\r\n} as const)\r\n\r\nexport type AuthActionTypes = ReturnType<typeof setAuthUserData>\r\n\r\nexport const getAuthUserData = (): AppThunkType => async (dispatch) => {\r\n    const res = await authAPI.getAuthMe()\r\n    if (res.resultCode === 0) {\r\n        const {id, email, login} = res.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n    return res\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean): AppThunkType => async dispatch => {\r\n    const res = await authAPI.login(email, password, rememberMe)\r\n    if (res.data.resultCode === 0) {\r\n        await dispatch(getAuthUserData())\r\n    } else {\r\n        let message = res.data.messages.length > 0 ? res.data.messages[0] : 'Some error'\r\n        let action: FormAction = stopSubmit('login', {_error: message})\r\n        dispatch(action)\r\n    }\r\n}\r\nexport const logout = (): AppThunkType => async dispatch => {\r\n    const res = await authAPI.logout()\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer","import {AppActionsType} from \"./store\";\r\n\r\ntype SidebarType = {}\r\n\r\nconst initialState: SidebarType = {}\r\n\r\nconst sidebarReducer = (state: SidebarType = initialState, action: AppActionsType) => {\r\n\r\n\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {AppThunkType} from \"./store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nenum Type {\r\n    INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS',\r\n}\r\n\r\nexport type AppActionsType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst initialState: AppActionsType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state: AppActionsType = initialState, action: AppActionTypes): AppActionsType => {\r\n    switch (action.type) {\r\n        case Type.INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccessAC = () => ({\r\n    type: Type.INITIALIZED_SUCCESS,\r\n} as const)\r\n\r\nexport type AppActionTypes = ReturnType<typeof initializedSuccessAC>\r\n\r\nexport const initializeAppTC = (): AppThunkType => async dispatch => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccessAC())\r\n    })\r\n}\r\n\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer, {ProfileActionType} from \"./profile-reducer\";\r\nimport dialogsReducer, {DialogsActionType} from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer, {UsersActionType} from \"./users-reducer\";\r\nimport authReducer, {AuthActionTypes} from \"./auth-reducer\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport appReducer, {AppActionTypes} from \"./app-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n});\r\n\r\n\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport type AppActionsType = AuthActionTypes\r\n    | DialogsActionType\r\n    | ProfileActionType\r\n    | UsersActionType\r\n    | AppActionTypes\r\nexport type AppThunkType<ReturnType = Promise<void>> = ThunkAction<ReturnType, AppStateType, unknown, AppActionsType>\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\n// const store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Navbar.module.css'\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import React from \"react\";\r\n//import s from './News.module.css'\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\n//import s from './Music.module.css'\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\n//import s from './Settings.module.css'\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/PElogovector.fce73906.png\";","import React from 'react';\r\nimport logo from \"./PElogovector.png\"\r\nimport s from './Header.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = (props: PropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} alt=\"\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/store\";\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)\r\n\r\n\r\n","import React from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport style from '../Common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n    isAuth: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(Input, 'login', 'login', [required])}\r\n            {createField(Input, 'password', 'password', [required])}\r\n            {createField(Input, 'checkbox', 'rememberMe', [], {type: 'checkbox'}, 'remember me')}\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>LOGIN</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginFormRedux = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.login, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <>\r\n        <h1>LOGIN</h1>\r\n        <LoginFormRedux onSubmit={onSubmit}/>\r\n    </>\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login)","import React from \"react\";\r\n\r\n\r\nexport const withSuspense = (Component: JSX.Element) => {\r\n    return <React.Suspense fallback={<div>Loading...</div>}>\r\n        {Component}\r\n    </React.Suspense>\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {Route, RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {News} from \"./components/News/News\";\r\nimport {Music} from \"./components/Music/Music\";\r\nimport {Settings} from \"./components/Settings/Settings\";\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import UsersContainer from './components/Users/UsersContainer';\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeAppTC} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/store\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\r\n\r\ntype mapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\ntype mapDispatchToPropsType = {\r\n    initializeAppTC: () => void\r\n}\r\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nclass App extends React.Component<RouteComponentProps & PropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeAppTC()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"App-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/profile/:userId?' render={() => withSuspense(<ProfileContainer/>)}/>\r\n                    <Route path='/dialogs' render={() => withSuspense(<DialogsContainer/>)}/>\r\n                    <Route path='/news' render={() => <News/>}/>\r\n                    <Route path='/music' render={() => <Music/>}/>\r\n                    <Route path='/users' render={() => withSuspense(<UsersContainer/>)}/>\r\n                    <Route path='/settings' render={() => <Settings/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppTC})\r\n)(App)\r\n\r\n\r\n\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {store} from './redux/store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n\r\n","import React from \"react\";\r\nimport styles from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta, child, ...props}: any) => {\r\n    const error = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (error && styles.error)}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {error && <span>{meta.error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\nexport const TextArea = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\nexport const Input = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\nexport const createField = (component: any, placeholder: any, name: any, validate: any = [], props: any = {}, text = '') => {\r\n    return <div><Field\r\n        component={component}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        validate={validate}\r\n        {...props}\r\n    />{text}</div>\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1s3Pn\",\"error\":\"FormsControls_error__i0Y2A\",\"formSummaryError\":\"FormsControls_formSummaryError__1wcye\"};","export const required = (value: string) => {\r\n    if (!!value) return undefined;\r\n    return 'Field is required!';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength: number) => (value: string) => {\r\n    if (value.length < minLength) return `Max length is ${minLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1JY3B\",\"loginBlock\":\"Header_loginBlock___XVjS\"};","import {v1} from \"uuid\";\r\nimport {AppThunkType} from \"./store\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nenum Type {\r\n    ADD_POST = 'profile/ADD-POST',\r\n    DELETE_POST = 'profile/DELETE-POST',\r\n    SET_USER_PROFILE = 'profile/SET-USER-PROFILE',\r\n    SET_USER_STATUS = 'profile/SET-USER-STATUS',\r\n    SAVE_PHOTO = 'profile/SAVE_PHOTO',\r\n}\r\n\r\nexport type PostsType = {\r\n    id: string\r\n    message: string\r\n    likeCount: number\r\n}\r\n\r\nexport type UsersProfileType = {\r\n    aboutMe: string\r\n    contacts: {\r\n        facebook: string\r\n        website: string\r\n        vk: string\r\n        twitter: string\r\n        instagram: string\r\n        youtube: string\r\n        github: string\r\n        mainLink: string\r\n    }\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: {\r\n        small: string | undefined\r\n        large: string | undefined\r\n    }\r\n}\r\n\r\nexport type InitialStateType = {\r\n    posts: Array<PostsType>\r\n    profile: UsersProfileType\r\n    status: string\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    posts: [\r\n        {id: v1(), message: 'Hello', likeCount: 41},\r\n        {id: v1(), message: 'How are u?', likeCount: 20}\r\n    ],\r\n    profile: null as unknown as UsersProfileType,\r\n    status: \"status\",\r\n}\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ProfileActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case Type.ADD_POST:\r\n            const newPost: PostsType = {\r\n                id: v1(),\r\n                message: action.newPostBody,\r\n                likeCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        case Type.DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(el => el.id !== action.id)}\r\n        }\r\n        case Type.SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case Type.SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        case Type.SAVE_PHOTO:\r\n            if (state.profile) {\r\n                return {...state, profile: {...state.profile, photos: action.photos}}\r\n            } else return state\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostBody: string) => {\r\n    return {\r\n        type: Type.ADD_POST,\r\n        newPostBody,\r\n    } as const\r\n}\r\nexport const deletePostAC = (id: string) => {\r\n    return {\r\n        type: Type.DELETE_POST,\r\n        id\r\n    } as const\r\n}\r\nexport const savePhotoSuccess = (photos: { small: string, large: string }) => {\r\n    return {\r\n        type: Type.SAVE_PHOTO,\r\n        photos\r\n    } as const\r\n}\r\nexport const setStatusAC = (status: string) => ({type: Type.SET_USER_STATUS, status} as const)\r\nexport const setUserProfile = (profile: UsersProfileType) => {\r\n    return {\r\n        type: Type.SET_USER_PROFILE,\r\n        profile,\r\n    } as const\r\n}\r\n\r\nexport type ProfileActionType =\r\n    | ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof deletePostAC>\r\n    | ReturnType<typeof setStatusAC>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n\r\nexport const getUserProfile = (userId: number | null): AppThunkType => async dispatch => {\r\n    const res = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(res))\r\n}\r\nexport const getStatus = (userId: number): AppThunkType => async dispatch => {\r\n    const res = await profileAPI.getStatus(userId)\r\n    dispatch(setStatusAC(res.data))\r\n}\r\nexport const updateStatus = (status: string): AppThunkType => async dispatch => {\r\n    const res = await profileAPI.updateStatus(status)\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(setStatusAC(status))\r\n    }\r\n}\r\nexport const savePhoto = (photo: File): AppThunkType => async dispatch => {\r\n    const res = await profileAPI.savePhoto(photo)\r\n    if (res.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(res.data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (profile: any): AppThunkType => async (dispatch, getState) => {\r\n    const res = await profileAPI.saveProfile(profile)\r\n    if (res.data.resultCode === 0) {\r\n        await dispatch(getUserProfile(getState().auth.id))\r\n    } else {\r\n        dispatch(stopSubmit('editProfile', {_error: res.data.messages[0]}))\r\n        return Promise.reject()\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/preloader.81da48ab.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Preloader = () => {\r\n    return <div style={{width: '100px', position: \"fixed\", top: '50%', left: '50%'}}>\r\n        <img src={preloader} alt={'img'}/>\r\n    </div>\r\n}"],"sourceRoot":""}